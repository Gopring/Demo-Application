<!DOCTYPE html>
<html lang="es-ES">
<head>
  <title>WebRTC Broadcaster & Viewer</title>
  <link rel="stylesheet" type="text/css" href="assets/styles.css">
</head>
<body>
<h1>WebRTC Broadcaster & Viewer</h1>

<label for="userIdInput">Enter your ID:</label>
<input type="text" id="userIdInput" placeholder="Enter your ID">
<br>

<!--<label for="userNameInput">Enter your Name:</label>-->
<!--<input type="text" id="userNameInput" placeholder="Enter your Name">-->
<!--<br>-->

<label for="channelIdInput">Enter Channel ID:</label>
<input type="text" id="channelIdInput" placeholder="Enter Channel ID">
<br>

<!--<label for="channelNameInput">Enter Channel Name:</label>-->
<!--<input type="text" id="channelNameInput" placeholder="Enter Channel Name">-->
<!--<br>-->

<label for="baseUrlInput">Enter Base URL:</label>
<input type="text" id="baseUrlInput" placeholder="Enter Base URL (default: http://localhost:8080)">
<br>

<video id="videoElement" autoplay playsinline></video>
<br>
<button id="startBroadcast">Start Broadcast</button>
<button id="startView">Start Viewing</button>

<script type="module">
  import { startBroadcast } from './js/broadcast/broadcast.js';
  import { startView } from './js/view/view.js';
  import { setBaseUrl } from './js/utils/utils.js';

  const startBroadcastButton = document.getElementById('startBroadcast');
  const startViewButton = document.getElementById('startView');
  const baseUrlInput = document.getElementById('baseUrlInput');

  startBroadcastButton.onclick = startBroadcast;
  startViewButton.onclick = startView;

  baseUrlInput.onchange = () => {
    const newBaseUrl = baseUrlInput.value;
    if (newBaseUrl) {
      setBaseUrl(newBaseUrl);
    }
  };
</script>
</body>
</html>
